<div
    class="flex min-w-0 flex-auto flex-col items-center sm:flex-row sm:justify-center md:items-start md:justify-start"
>
    <div
        class="relative hidden h-full w-1/2 flex-auto items-center justify-center overflow-hidden bg-primary p-16 md:flex lg:px-28 dark:border-l"
    >
        <div class="pointer-events-none absolute inset-0 flex items-center justify-center">
            <div class="scale-[4] opacity-5">
                <ap-svg-custom
                    [color]="'white'"
                    [routeName]="'images/logo/logo_custom.svg'"
                ></ap-svg-custom>
            </div>
        </div>

        <div class="z-100 absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2">
            <ap-svg-custom
                [color]="'white'"
                [class]="'scale-[1.2]'"
                [routeName]="'images/logo/logo_custom.svg'"
            ></ap-svg-custom>
        </div>
    </div>

    <div class="flex w-full items-center justify-center px-4 py-8 md:h-screen md:w-1/2 md:bg-white">
        <div class="w-full max-w-sm px-4">
            <div class="mb-6 flex justify-center">
                <img src="images/logo/logo.svg" class="w-20" alt="Logo" />
            </div>

            <div class="rounded-3xl border bg-white p-6 shadow-lg sm:p-8">
                <h2 class="text-center text-xl font-semibold tracking-tight text-gray-900">
                    INICIO DE SESIÓN
                </h2>

                @if (showAlert) {
                    <fuse-alert
                        class="mt-6"
                        [appearance]="'outline'"
                        [showIcon]="false"
                        [type]="alert.type"
                        [@shake]="alert.type === 'error'"
                    >
                        {{ alert.message }}
                    </fuse-alert>
                }

                <form class="mt-4 space-y-2" [formGroup]="signInForm">
                    <!-- Email -->
                    <mat-label>Usuario</mat-label>
                    <mat-form-field class="w-full">
                        <input matInput id="email" [formControlName]="'email'" />
                        @if (signInForm.get('email')?.invalid) {
                            <mat-error class="text-red-500">
                                {{ signInForm.get('email') | translateMessageForm }}
                            </mat-error>
                        }
                    </mat-form-field>

                    <!-- Password -->
                    <mat-label>Contraseña</mat-label>
                    <mat-form-field class="w-full">
                        <input
                            matInput
                            [type]="'password'"
                            id="password"
                            [formControlName]="'password'"
                            #passwordField
                            readonly
                        />
                        <button
                            mat-icon-button
                            matSuffix
                            type="button"
                            (click)="
                                passwordField.type === 'password'
                                    ? (passwordField.type = 'text')
                                    : (passwordField.type = 'password')
                            "
                        >
                            @if (passwordField.type === 'password') {
                                <mat-icon
                                    class="icon-size-5"
                                    [svgIcon]="'heroicons_solid:eye'"
                                ></mat-icon>
                            }
                            @if (passwordField.type === 'text') {
                                <mat-icon
                                    class="icon-size-5"
                                    [svgIcon]="'heroicons_solid:eye-slash'"
                                ></mat-icon>
                            }
                        </button>
                        @if (signInForm.get('password')?.invalid) {
                            <mat-error class="text-red-500">
                                {{ signInForm.get('password') | translateMessageForm }}
                            </mat-error>
                        }
                    </mat-form-field>

                    <ap-keyboard-custom [layout]="keys" (keyPress)="keyPressed($event)">
                    </ap-keyboard-custom>
                    <div class="flex w-full items-center justify-center pt-4">
                        <mat-checkbox
                            class="-ml-2"
                            [color]="'warn'"
                            [formControlName]="'rememberMe'"
                        >
                            Recordar contraseña
                        </mat-checkbox>
                    </div>
                </form>

                <!-- <div class="text-center">
                    <a
                        class="text-md text-black hover:underline"
                        [routerLink]="['/forgot-password']"
                    >
                        ¿Olvidaste tu contraseña?
                    </a>
                </div> -->

                <button
                    class="mt-2 w-full rounded-full bg-primary-500 py-2 text-white transition hover:bg-primary-600"
                    mat-flat-button
                    [disabled]="signInForm.invalid"
                    (click)="signIn()"
                >
                    @if (!signInForm.disabled) {
                        <span>Acceder</span>
                    }
                    @if (signInForm.disabled) {
                        <mat-progress-spinner
                            [diameter]="24"
                            [mode]="'indeterminate'"
                        ></mat-progress-spinner>
                    }
                </button>
            </div>

            <!-- Botón de ayuda -->
            <div class="mt-6 flex justify-center">
                <button
                    type="button"
                    class="rounded-full bg-[#233559] px-6 py-2 text-sm font-medium text-white transition hover:bg-[#1a2742]"
                >
                    Ayuda para iniciar sesión
                </button>
            </div>

            <!-- Botones de redes sociales -->
            <div class="mt-4 flex justify-center gap-3">
                <!-- Facebook -->
                <button
                    class="flex h-10 w-10 items-center justify-center rounded bg-[#C90000] text-white"
                >
                    <mat-icon
                        [svgIcon]="'feather:facebook'"
                        class="text-white icon-size-5"
                    ></mat-icon>
                </button>

                <!-- Instagram -->
                <button
                    class="flex h-10 w-10 items-center justify-center rounded bg-[#C90000] text-white"
                >
                    <mat-icon
                        [svgIcon]="'feather:instagram'"
                        class="text-white icon-size-5"
                    ></mat-icon>
                </button>

                <!-- Google+ -->
                <button
                    class="flex h-10 w-10 items-center justify-center rounded bg-[#C90000] text-white"
                >
                    <mat-icon
                        [svgIcon]="'feather:twitter'"
                        class="text-white icon-size-5"
                    ></mat-icon>
                </button>
            </div>
        </div>
    </div>
</div>
